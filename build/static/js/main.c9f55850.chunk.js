(this.webpackJsonpdz_react=this.webpackJsonpdz_react||[]).push([[0],{17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(9),s=n.n(a),o=n(10),i=n(2),l=n(3),u=n(5),h=n(4),j=n(6),d=n.n(j),b=n(7),p=function(){function e(){var t=this;Object(i.a)(this,e),this._baseUrl="https://restcountries.eu/rest/v2/all",this.getCountries=Object(b.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource();case 2:return n=e.sent,e.abrupt("return",n.map(t._formatCountry));case 4:case"end":return e.stop()}}),e)})))}return Object(l.a)(e,[{key:"getResource",value:function(){var e=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._baseUrl,e.next=3,fetch(t);case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("Could not fetch ".concat(t)+", received ".concat(n.status));case 6:return e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_formatCountry",value:function(e,t){return{number:t+1,code:e.alpha3Code,name:e.name,capital:e.capital,region:e.region,population:e.population,area:e.area,currencies:e.currencies.map((function(e){return e.name})).join(", ")}}}]),e}(),x=n(0);var f=function(e){var t=e.country,n=t.number,r=t.name,a=t.capital,s=t.region,o=t.population,i=t.area,l=t.currencies;return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("th",{scope:"row",children:n}),Object(x.jsx)("td",{children:r}),Object(x.jsx)("td",{children:a}),Object(x.jsx)("td",{children:s}),Object(x.jsx)("td",{children:o}),Object(x.jsx)("td",{children:i}),Object(x.jsx)("td",{children:l})]})};var O=function(e){var t=this.props.countries.map((function(e){return Object(x.jsx)("tr",{children:Object(x.jsx)(f,{country:e})},e.code)}));return Object(x.jsxs)("table",{className:"table table-striped table-hover table-bordered",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{scope:"col",children:"#"}),Object(x.jsx)("th",{scope:"col",children:"Name"}),Object(x.jsx)("th",{scope:"col",children:"Capital"}),Object(x.jsx)("th",{scope:"col",children:"Region"}),Object(x.jsx)("th",{scope:"col",children:"Population"}),Object(x.jsx)("th",{scope:"col",children:"Area"}),Object(x.jsx)("th",{scope:"col",children:"Currencies"})]})}),Object(x.jsx)("tbody",{children:t})]})},v=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).onChange=function(t){var n=e.props.onSearchText;(void 0===n?function(e){}:n)(t.target.value)},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"form-group row",children:[Object(x.jsx)("label",{htmlFor:"inputSearch",className:"col-sm-2 col-form-label",children:"Search"}),Object(x.jsx)("div",{className:"col-sm-10",children:Object(x.jsx)("input",{type:"text",className:"form-control",id:"inputSearch",onChange:this.onChange,value:this.props.text})})]})}}]),n}(r.Component),g=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).onChange=function(t){var n=e.props.onSelectRegion;(void 0===n?function(e){}:n)(t.target.value)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.regions.map((function(e){return Object(x.jsx)("option",{value:e,children:e},e)}));return Object(x.jsxs)("div",{className:"form-group row",children:[Object(x.jsx)("label",{htmlFor:"selectSearch",className:"col-sm-2 col-form-label",children:"Region"}),Object(x.jsx)("div",{className:"col-sm-10",children:Object(x.jsxs)("select",{className:"custom-select",value:this.props.selected,onChange:this.onChange,children:[Object(x.jsx)("option",{children:"-"}),e]})})]})}}]),n}(r.Component);n(17);var m=function(){return Object(x.jsxs)("div",{className:"lds-ring",children:[Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{})]})},y=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).api=new p,e.state={countries:[],searchText:"",regions:[],searchRegion:"-",loading:!0},e.onSearchText=function(t){t=t.trim(),e.setState({searchText:t,searchRegion:"-"})},e.onSelectRegion=function(t){e.setState({searchRegion:t,searchText:""})},e.filterSelectRegion=function(e,t){return"-"===t?e:e.filter((function(e){return e.region===t}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.api.getCountries().then((function(t){e.setState({countries:t,regions:e.getRegions(t),loading:!1})}))}},{key:"getRegions",value:function(e){var t,n=[],r=Object(o.a)(e);try{for(r.s();!(t=r.n()).done;){var c=t.value;n.includes(c.region)||n.push(c.region)}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"filterSearchText",value:function(e,t){return(t=t.toLowerCase()).length?e.filter((function(e){var n=e.name,r=e.capital,c=e.region;return n.toLowerCase().indexOf(t)>-1||r.toLowerCase().indexOf(t)>-1||c.toLowerCase().indexOf(t)>-1})):e}},{key:"render",value:function(){var e=this.state,t=e.countries,n=e.regions,r=e.searchText,c=e.searchRegion;return e.loading?Object(x.jsx)(m,{}):(t=this.filterSearchText(this.filterSelectRegion(t,c),r),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("h1",{children:"Countries"}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-md-6",children:Object(x.jsx)(v,{text:r,onSearchText:this.onSearchText})}),Object(x.jsx)("div",{className:"col-md-6",children:Object(x.jsx)(g,{regions:n,selected:c,onSelectRegion:this.onSelectRegion})})]}),Object(x.jsx)(O,{countries:t})]}))}}]),n}(r.Component);n(18);s.a.render(Object(x.jsx)(y,{}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.c9f55850.chunk.js.map